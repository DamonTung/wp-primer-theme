(function(api){var cssTemplate=wp.template("primer-color-scheme"),colorSchemeKeys=["header_textcolor","background_color","tagline_text_color","link_color","main_text_color","secondary_text_color"],colorSettings=["header_textcolor","background_color","tagline_text_color","link_color","main_text_color","secondary_text_color"];api.controlConstructor.select=api.Control.extend({ready:function(){if("color_scheme"===this.id){this.setting.bind("change",function(value){var colors=colorScheme[value].colors;var color=colors[0];api("header_textcolor").set(color);api.control("header_textcolor").container.find(".color-picker-hex").data("data-default-color",color).wpColorPicker("defaultColor",color);var color=colors[1];api("background_color").set(color);api.control("background_color").container.find(".color-picker-hex").data("data-default-color",color).wpColorPicker("defaultColor",color);color=colors[2];api("tagline_text_color").set(color);api.control("tagline_text_color").container.find(".color-picker-hex").data("data-default-color",color).wpColorPicker("defaultColor",color);color=colors[3];api("link_color").set(color);api.control("link_color").container.find(".color-picker-hex").data("data-default-color",color).wpColorPicker("defaultColor",color);color=colors[4];api("main_text_color").set(color);api.control("main_text_color").container.find(".color-picker-hex").data("data-default-color",color).wpColorPicker("defaultColor",color);color=colors[5];api("secondary_text_color").set(color);api.control("secondary_text_color").container.find(".color-picker-hex").data("data-default-color",color).wpColorPicker("defaultColor",color)})}}});function updateCSS(){var scheme=api("color_scheme")(),css,colors=_.object(colorSchemeKeys,colorScheme[scheme].colors);_.each(colorSettings,function(setting){colors[setting]=api(setting)()});colors.hover_color=Color(colors.link_color).toCSS("rgba",.8);css=cssTemplate(colors);api.previewer.send("update-color-scheme-css",css)}_.each(colorSettings,function(setting){api(setting,function(setting){setting.bind(updateCSS)})})})(wp.customize);
