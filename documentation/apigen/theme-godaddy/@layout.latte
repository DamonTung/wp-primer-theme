{default $robots = true}
{default $active = ''}

<div class="container page-container">

	<div class="row">

		<div class="col-sm-12 col-md-9 col-md-push-3 space-left push-off">

			<div class="document-body">

				<div class="section" id="welcome">

					<div id="splitter"></div>

					<div id="right">

						<div id="rightInner">

							{include content}

						</div>

					</div>

				</div>

			</div>

		</div>

		<!-- Sidebar -->
		<div class="col-md-3 col-md-pull-9 pull-off hidden-xs hidden-sm" lang="en">

			<aside class="sidebar">
				{define group}
					<ul>
						{foreach $groups as $group}
							{var $nextLevel = substr_count($iterator->nextValue, '\\') > substr_count($group, '\\')}
							<li n:class="$actualGroup === $group || 0 === strpos($actualGroup, $group . '\\') ? active, $config->main && 0 === strpos($group, $config->main) ? main">
								<a href="{if $groupBy === 'package'}{$group|packageUrl}{else}{$group|namespaceUrl}{/if}">
									{$group|subgroupName}<span n:tag-if="$nextLevel"></span>
								</a>
								{if $nextLevel}
									<ul>
								{else}
									</li>
									{if substr_count($iterator->nextValue, '\\') < substr_count($group, '\\')}
										{='</ul></li>'|repeat:substr_count($group, '\\') - substr_count($iterator->nextValue, '\\')|noescape}
									{/if}
								{/if}
						{/foreach}
					</ul>
				{/define}

				<div id="groups">
					{if $namespaces}
						<h3>Namespaces</h3>
						{include group, groups => $namespaces, actualGroup => $namespace, groupBy => 'namespace'}
					{elseif $packages}
						<h3>Packages</h3>
						{include group, groups => $packages, actualGroup => $package, groupBy => 'package'}
					{/if}
				</div>

				{define elements}
					<ul>
						<li n:foreach="$elements as $element" n:class="$activeElement === $element ? active"><a n:class="$element->deprecated ? deprecated, !$element->valid ? invalid" href="{$element|elementUrl}">{if $namespace}{$element->shortName}{else}{$element->name}{/if}</a></li>
					</ul>
				{/define}

				<div id="elements">
					{if $classes}
					<h3>Classes</h3>
					{include elements, elements => $classes, activeElement => $class}
					{/if}

					{if $interfaces}
					<h3>Interfaces</h3>
					{include elements, elements => $interfaces, activeElement => $class}
					{/if}

					{if $traits}
					<h3>Traits</h3>
					{include elements, elements => $traits, activeElement => $class}
					{/if}

					{if $exceptions}
					<h3>Exceptions</h3>
					{include elements, elements => $exceptions, activeElement => $class}
					{/if}

					{if $constants}
					<h3>Constants</h3>
					{include elements, elements => $constants, activeElement => $constant}
					{/if}

					{if $functions}
					<h3>Functions</h3>
					{include elements, elements => $functions, activeElement => $function}
					{/if}
				</div>
			</aside>
		</div>

	</div>

</div>
